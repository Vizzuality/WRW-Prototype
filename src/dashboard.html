<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>World Resource Watch - Countries - Brazil</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet"
      href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.13/themes/css/cartodb.css" />
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700'
      rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">

    <!--[if lt IE 9]>
    <script src="js/vendor/html5-3.6-respond-1.4.2.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <script>
      var isFullscreen = false;

      var enableFullscreen = function() {
        var container = document.querySelector('.container');
        var gridbox = container.querySelector('.gridbox');
        var header = container.querySelector('.section-header');
        var button = container.querySelector('#fullscreen-btn');

        isFullscreen = true;

        container.className += ' is-fullscreen';

        var innerWidth = container.offsetWidth - parseInt(window.getComputedStyle(container, null).getPropertyValue('padding-left')) - parseInt(window.getComputedStyle(container, null).getPropertyValue('padding-right'));
        var nbCardsARow = Math.round(innerWidth / (320 + 2 * 20));
        gridbox.style.width = (320 + 2 * 20) * nbCardsARow + 'px';

        header.style.width = (320 + 2 * 20) * nbCardsARow + 'px';
        header.style.paddingLeft = '20px';
        header.style.paddingRight = '20px';

        button.textContent = 'Exit Full screen';
      };

      var disableFullscreen = function() {
        var container = document.querySelector('.container');
        var gridbox = container.querySelector('.gridbox');
        var header = container.querySelector('.section-header');
        var button = container.querySelector('#fullscreen-btn');

        isFullscreen = false;

        container.className = 'container';

        gridbox.style.width = 'auto';

        header.style.width = 'auto';
        header.style.paddingLeft = '0';
        header.style.paddingRight = '0';

        button.textContent = 'Full screen';

      };

      var fullscreenEvents = 'webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange';

      var fullScreenCount = 0;

      var checkContent = function() {
        var isEnteringFullscreen = fullScreenCount % 2 === 0;
        fullScreenCount++;

        if(isEnteringFullscreen && !isFullscreen) {
          enableFullscreen();
        } else if(!isEnteringFullscreen && isFullscreen) {
          disableFullscreen();
        }
      };

      fullscreenEvents.split(' ').forEach(function(e) {
        document.addEventListener(e, checkContent);
      });


      var toggleFullscreen = function() {
        var container = document.querySelector('.container');

        if (!container.fullscreenElement && !container.mozFullScreenElement && !container.webkitFullscreenElement && !container.msFullscreenElement && !document.webkitIsFullScreen) {

          if (container.requestFullscreen) {
            container.requestFullscreen();
          } else if (container.msRequestFullscreen) {
            container.msRequestFullscreen();
          } else if (container.mozRequestFullScreen) {
            container.mozRequestFullScreen();
          } else if (container.webkitRequestFullscreen) {
            container.webkitRequestFullscreen();
          }

        } else {

          if (document.exitFullscreen) {
            document.exitFullscreen();
          } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
          } else if (document.mozCancelFullScreen) {
            document.mozCancelFullScreen();
          } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
          }

        }
      };
    </script>

    <div class="header-container">
      <header class="header">
        <div class="upper-header">
          <div class="upper-header-container">
            <div class="language-selector">
              <ul>
                <li class="language"><a id="language" href="#">English</a>
                  <ul class="language-menu is-hide">
                    <li><h4><a href="">English</a></h4></li>
                    <li><h4><a href="">Español</a></h4></li>
                    <li><h4><a href="">Français</a></h4></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="down-header">
          <a href="index.html" class="header-title-link">
            <h1 class="header-title"></h1>
          </a>

          <button class="header-menu-label js--header-open-menu">Menu</button>

          <ul class="header-links">
            <li><a href="insights.html">Insights</a></li>
            <li><a href="explore.html">Explore</a></li>
            <li class="active"><a href="dashboard.html">Countries</a></li>
            <li><a href="planet-pulse.html">Planet pulse</a></li>
            <!-- <li><a href="#">Apps</a></li> -->
            <!-- <li><a href="#">Get Involved</a></li> -->
            <li><a href="#"><i class="fa fa-search"></i></a></li>
            <li class="notification">
              <a href="#"><img src="img/user-1.png"></a>
              <ul class="user-menu is-hide">
                <div class="notification-space">
                  <h4>Notifications</h4>
                  <ul>
                    <li class="unread"><a href="#">New insight from World Resources Institute</a></li>
                    <li class="unread"><a href="#">'Total Greenhouse Emissions' dataset updated</a></li>
                    <li><a href="#">'Flower pollination in the United States' dataset updated</a></li>
                  </ul>
                </div>
                <div class="user-settings">
                  <ul>
                    <li><h4><a href="">Your profile</a></h4></li>
                    <li><h4><a href="">Settings</a></h4></li>
                    <li><h4><a href="">Logout</a></h4></li>
                  </ul>
                </div>
              </ul>
            </li>
          </ul>
        </div>
      </header>
    </div>

    <div id="container" class="container">

      <section>
        <header class="section-header dashboard">
          <h1 class="story--title">Dashboard</h1>
          <a onclick="toggleFullscreen();" id="fullscreen-btn" class="section-header-link aligned-bottom is-mobile-hidden">Full screen</a>
        </header>

      </section>

      <!-- country selector -->
      <section>
        <div class="m-country-selector dashboard">
          <div class="country-selector">
            <select  class="choose-country">
              <option value="" disabled selected>Choose country</option>
            </select>
            <input class="button is-mobile-hidden" type="submit" value="Let's go!">
            <input class="button is-desktop-hidden" type="submit" value="Go!">
          </div>
        </div>
      </section>

    </div>

    <div class="container">
      <section>
        <div class="m-contribute">
          <a href="#">
            LOAD MORE INDICATORS
          </a>
        </div>
      </section>
    </div>

    @@include('./templates/footer.html')

    <script>
      if(!window.location.hash.length) {
        window.location.hash = 'BRA';
      }
    </script>

    <script src="http://libs.cartocdn.com/cartodb.js/v3/3.13/cartodb.js"></script>
    <script src="js/vendor/requirejs/require.js"></script>
    <script src="js/dashboard/router.js"></script>

    @@include('./templates/scripts.html')
  </body>
</html>
