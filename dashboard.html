<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>World Resource Watch - Countries - Brazil</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet"
      href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.13/themes/css/cartodb.css" />
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700'
      rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">

    <!--[if lt IE 9]>
    <script src="js/vendor/html5-3.6-respond-1.4.2.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <script>
      var isFullscreen = false;

      var enableFullscreen = function() {
        var container = document.querySelector('.container');
        var gridbox = container.querySelector('.gridbox');
        var header = container.querySelector('.section-header');
        var button = container.querySelector('#fullscreen-btn');

        isFullscreen = true;

        container.className += ' is-fullscreen';

        var innerWidth = container.offsetWidth - parseInt(window.getComputedStyle(container, null).getPropertyValue('padding-left')) - parseInt(window.getComputedStyle(container, null).getPropertyValue('padding-right'));
        var nbCardsARow = Math.round(innerWidth / (320 + 2 * 20));
        gridbox.style.width = (320 + 2 * 20) * nbCardsARow + 'px';

        header.style.width = (320 + 2 * 20) * nbCardsARow + 'px';
        header.style.paddingLeft = '20px';
        header.style.paddingRight = '20px';

        button.textContent = 'Back';
      };

      var disableFullscreen = function() {
        var container = document.querySelector('.container');
        var gridbox = container.querySelector('.gridbox');
        var header = container.querySelector('.section-header');
        var button = container.querySelector('#fullscreen-btn');

        isFullscreen = false;

        container.className = 'container';

        gridbox.style.width = 'auto';

        header.style.width = 'auto';
        header.style.paddingLeft = '0';
        header.style.paddingRight = '0';

        button.textContent = 'Full screen';

      };

      var fullscreenEvents = 'webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange';

      var fullScreenCount = 0;

      var checkContent = function() {
        var isEnteringFullscreen = fullScreenCount % 2 === 0;
        fullScreenCount++;

        if(isEnteringFullscreen && !isFullscreen) {
          enableFullscreen();
        } else if(!isEnteringFullscreen && isFullscreen) {
          disableFullscreen();
        }
      };

      fullscreenEvents.split(' ').forEach(function(e) {
        document.addEventListener(e, checkContent);
      });


      var toggleFullscreen = function() {
        var container = document.querySelector('.container');

        if (!container.fullscreenElement && !container.mozFullScreenElement && !container.webkitFullscreenElement && !container.msFullscreenElement && !document.webkitIsFullScreen) {

          if (container.requestFullscreen) {
            container.requestFullscreen();
          } else if (container.msRequestFullscreen) {
            container.msRequestFullscreen();
          } else if (container.mozRequestFullScreen) {
            container.mozRequestFullScreen();
          } else if (container.webkitRequestFullscreen) {
            container.webkitRequestFullscreen();
          }

        } else {

          if (document.exitFullscreen) {
            document.exitFullscreen();
          } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
          } else if (document.mozCancelFullScreen) {
            document.mozCancelFullScreen();
          } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
          }

        }
      };
    </script>

    <div class="header-container">
      <header class="header">
        <a href="#" class="header-title-link">
          <h1 class="header-title">World Resources Watch</h1>
        </a>

        <button class="header-menu-label js--header-open-menu">Menu</button>

        <ul class="header-links">
          <li><a href="#">Insights</a></li>
          <li><a href="#">Explore</a></li>
          <li><a href="#">Countries</a></li>
          <li><a href="#">Planet Pulse</a></li>
          <li><a href="#"><i class="fa fa-search"></i></a></li>
          <li><a href="#"><img src="img/user-1.png"></a></li>
        </ul>
      </header>
    </div>

    <div class="container">

      <section>
        <header class="section-header">
          <h1 class="story--title">Dashboard</h1>
          <a onclick="toggleFullscreen();" id="fullscreen-btn" class="section-header-link aligned-bottom">Full screen</a>
        </header>

      </section>
    </div>

    <div class="footer-container">
      <footer class="footer">
        <a href="#">English</a>

        <ul class="footer-links">
          <li><a href="#">Insights</a></li>
          <li><a href="#">Explore</a></li>
          <li><a href="#">Apps</a></li>
          <li><a href="#">Planet Pulse</a></li>
          <li><a href="#">Get Involved</a></li>
          <li><a href="#">How to</a></li>
        </ul>

        <a href="#" class="footer-link">Contact</a>
      </footer>
    </div>

    <script>
      window.location.hash = 'BRA';
    </script>

    <script src="http://libs.cartocdn.com/cartodb.js/v3/3.13/cartodb.js"></script>
    <script src="js/vendor/requirejs/require.js"></script>
    <script src="js/dashboard/router.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var mobileMenuLink = document.querySelector(".js--header-open-menu");
        mobileMenuLink.onclick = function() {
          var headerEl = document.querySelector('.header-container');

          if (headerEl.classList.contains("header-mobile")) {
            mobileMenuLink.innerHTML = "Menu";
            headerEl.classList.remove('header-mobile');
          } else {
            mobileMenuLink.innerHTML = "Close";
            headerEl.classList.add('header-mobile');
          }
        };
      });
    </script>

    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X','auto');ga('send','pageview');
    </script>
  </body>
</html>
